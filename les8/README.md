## Работа с загрузчиком

Цель:
Научиться попадать в систему без пароля;
Устанавливать систему с LVM и переименовывать в VG.

### Домашнее задание

1. Включить отображение меню Grub.
2. Попасть в систему без пароля несколькими способами.
3. Установить систему с LVM, после чего переименовать VG.

Задание выполняется на ОС Ubuntu 22.04

#### 1. Включить отображение меню Grub.

* Редактирую конфигурационный файл GRUB /etc/default/grub

sudo -i

nano /etc/default/grub

* Устанавливаю таймаут паказа меню 10с

>#GRUB_TIMEOUT_STYLE=hidden
>GRUB_TIMEOUT=10

Обновляем конфигурацию загрузчика и перезагружаемся для проверки

update-grub
reboot

#### 2. Попасть в систему без пароля несколькими способами.

1. На первой строке меню grub нажимаю "e". В окне редактора ищу строку начинающуюся с linux. В конце строки дописываю init=/bin/bash и нажимаю Ctrl + "X". Продолжеатся загрузка, попадаю в root.
   Если нужно что-то менять на файловой системе, перемонтирую "/"
   
   mount -o remount,rw /
   
2. В меню grub выбираю Advanced options далее строку с Recovery mode. В моем случае сразу пошла загрузка, не было выбора как в методичке. Загрузился в root.


#### 3. Установить систему с LVM, после чего переименовать VG.

* Смотрю список VG и LG 

root@ubuntu:~# vgs

  VG  #PV #LV #SN Attr   VSize  VFree

  vg0   1   1   0 wz--n- <3.99g    0

root@ubuntu:~# lvs

  LV   VG  Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert

  lv-0 vg0 -wi-ao---- <3.99g
  
* Переименовываю VG

root@ubuntu:~# vgrename vg0 vg1

  Volume group "vg0" successfully renamed to "vg1"  

Хоть на занятии нам говорили, что в файл /boot/grub/grub.cfg вносить изменения вручную не рекомендуется, открываю этот файл (nano /boot/grub/grub.cfg) и заменяю везде "vg0" на "vg1". Выполняю reboot, система загружается корректно.
